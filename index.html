<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="mcgrady&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="mcgrady&#39;s blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mcgrady&#39;s blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>mcgrady's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mcgrady's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/note/tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/note/tips/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:44:31+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><ul>
<li><strong>DRY = Do not Repeat Yourself</strong></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/android 编码规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/android 编码规范/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:44:15+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Android-编码规范"><a href="#Android-编码规范" class="headerlink" title="Android 编码规范"></a>Android 编码规范</h1><h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2><h3 id="资源命名"><a href="#资源命名" class="headerlink" title="资源命名"></a>资源命名</h3><p>图标资源以<code>ic</code>为前缀，例如<code>ic_chat</code>，指聊天图标</p>
<p>背景图片以 <code>bg</code> 为前缀，例如 <code>bg_login</code> ，指的是登录页的背景图</p>
<p>按钮图片以 <code>btn</code> 为前缀，例如 <code>btn_login</code>，指的是登录按钮的图片，不过这只有一种状态，需要加上状态的可以在后面添加，例如 <code>btn_login_pressed</code> ，表示登录按钮按下的图片</p>
<p>Dialog    dialog_xx.xml</p>
<p>PopupWindow    pw_xx.xml</p>
<p><strong>合理布局，注意布局嵌套层次，有效运用<code>&lt;merge&gt;</code>、<code>&lt;ViewStub&gt;</code>、<code>&lt;include&gt;</code>标签</strong></p>
<h3 id="注释规范"><a href="#注释规范" class="headerlink" title="注释规范"></a>注释规范</h3><h4 id="类注释"><a href="#类注释" class="headerlink" title="类注释"></a>类注释</h4><p>每个类完成后应该有作者姓名和联系方式的注释，对自己的代码负责</p>
<blockquote>
<p>具体的注释风格可以在AS中自己配制:</p>
<p>Settings → Editor → File and Code Templates → Includes → File Header</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;pre&gt;</span></span><br><span class="line"><span class="comment"> *     author : developer</span></span><br><span class="line"><span class="comment"> *     e-mail : xxx@xx</span></span><br><span class="line"><span class="comment"> *     time   : 2017/08/13</span></span><br><span class="line"><span class="comment"> *     desc   : xxxx描述</span></span><br><span class="line"><span class="comment"> *     version: 1.0</span></span><br><span class="line"><span class="comment"> * &lt;/pre&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> </span>&#123;</span><br><span class="line">       ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="其他的一些规范"><a href="#其他的一些规范" class="headerlink" title="其他的一些规范"></a>其他的一些规范</h3><p><strong>使用单例可以减轻加载的负担、缩短加载的时间、提高加载的效率</strong>，但并不是所有地方都适用于单例，简单来说，单例主要适用于一下三个方面：</p>
<pre><code>1. 控制资源的使用，通过线程同步来控制资源的并发访问
 2. 控制实例的产生，以达到节约资源的目的
  3. 控制数据的共享，在不建立关联的条件下，让多个不相关的进程或线程之间实现通信
</code></pre><p>把一个基本数据类型转为字符串，基础数据类型<code>.toString()</code>最快，·String.valueOf(数据)·其次，<code>数据 + &quot;&quot;</code>最慢。</p>
<p><strong>循环内不要不断创建对象</strong></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt;= count; i++) &#123;</span><br><span class="line">  Object obj = new Object();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果count的值很大，消耗的内存就会更大，建议改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Object obj = null;</span><br><span class="line">for (int i = 0; i &lt;= count; i++) &#123;</span><br><span class="line">	obj = new Object();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样的话，内存中只有一份Object对象引用，每次new Object()的时候，Object对象引用指向不同的Object罢了，但是内存中只有一份，这样就大大节省了内存空间。</p>
<p><strong>for 和 foreach的使用场景</strong></p>
<p>实现RandomAccess接口的类实例比如ArrayList，假如是随机访问的，使用普通<code>for</code>循环效率将高于使用<code>foreach</code>，反过来如果是顺序访问的，则使用Iterator会效率更高（<code>foreach</code>的底层实现就是迭代器）。</p>
<p><strong>ArrayList 和 LinkedList的使用场景</strong></p>
<p>顺序插入和随机访问比较多的场景使用ArrayList，元素删除和中间插入比较多的场景使用LinkedList，</p>
<p>详细可查看ArrayList和LinkedList的原理。</p>
<p><strong>不要让public方法中有太多的形参</strong></p>
<p>如果给这些方法太多形参的话主要有两点坏处：</p>
<ol>
<li>违反了面向对象的编程思想 ，Java讲求一切都是对象，太多的形参，和面向对象的变成思想并不契合。</li>
<li>参数太多势必导致方法调用的出错概率增加。</li>
</ol>
<p>字符串变量和字符串常量equals的时候将字符串常量写在前面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"123"</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="string">"123"</span>.equals(str)) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这么做主要是可以避免空指针异常</p>
<p><strong>公用集合类不使用的数据一定要及时remove掉</strong></p>
<p>如果一个集合类是公用的（也就是说不是方法里面的属性），那么这个集合里面的元素是不会自动释放的，因为始终有引用指向它们。所以，如果公用集合里面的某些数据不使用而不去remove掉它们，那么将会造成这个公用集合不断增大，使得系统有内存泄露的隐患。</p>
<p><strong>使用最有效率的方式去遍历Map</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  HashMap&lt;String, String&gt; hm = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">  hm.put(<span class="string">"111"</span>, <span class="string">"222"</span>);</span><br><span class="line">  </span><br><span class="line">  Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet = hm.entrySet();</span><br><span class="line">  Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iter = entrySet.iterator(); </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (iter.hasNext()) &#123;</span><br><span class="line">    Map.Entry&lt;String, String&gt; entry = iter.next();</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">"\t"</span> + entry.getValue());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果只是想遍历下这个Map的key值，那用<code>Set&lt;String&gt; keySet = hm.keySet()</code>会比较合适。</p>
<p><strong>尽量采用懒加载的策略，即在需要的时候才创建的原则</strong></p>
<p><strong>尽量避免随意或过度的使用静态变量</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/note/Growth Diary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/note/Growth Diary/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:44:06+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Growth-Diary"><a href="#Growth-Diary" class="headerlink" title="Growth Diary"></a>Growth Diary</h1><h2 id="空杯心态"><a href="#空杯心态" class="headerlink" title="空杯心态"></a>空杯心态</h2><p>空杯的学习心态，不傲娇自满，不故步自封，才可以装下更多的东西，警惕我们要持空杯的学习心态。</p>
<p><strong>取百家之长</strong>，带着欣赏的眼光看人，欣赏和吸取他们的优点，观察他们解决问题的方式和思路，已经自己要做些怎么的努力才可以达到。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/mvp构架总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/mvp构架总结/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MVP-构架总结"><a href="#MVP-构架总结" class="headerlink" title="MVP 构架总结"></a>MVP 构架总结</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/framework analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/framework analysis/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Framework-analysis（框架解析）"><a href="#Framework-analysis（框架解析）" class="headerlink" title="Framework analysis（框架解析）"></a>Framework analysis（框架解析）</h1><p>android 流行框架解析</p>
<h2 id="第三方解決方案汇总"><a href="#第三方解決方案汇总" class="headerlink" title="第三方解決方案汇总"></a>第三方解決方案汇总</h2><p><img src="http://img.my.csdn.net/uploads/201412/13/1418436863_2555.jpg" alt="img"></p>
<h2 id="网络请求库"><a href="#网络请求库" class="headerlink" title="网络请求库"></a>网络请求库</h2><p>网络请求框架与网络请求功能的关系<br><img src="http://upload-images.jianshu.io/upload_images/944365-cd9cf3ca0a179b26.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="网络请求框架与网络请求功能的关系"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/944365-58819416dfd2767a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="img"></p>
<h3 id="Android-Async-Http"><a href="#Android-Async-Http" class="headerlink" title="Android-Async-Http"></a>Android-Async-Http</h3><h3 id="Volley"><a href="#Volley" class="headerlink" title="Volley"></a>Volley</h3><h3 id="OkHttp"><a href="#OkHttp" class="headerlink" title="OkHttp"></a>OkHttp</h3><h3 id="Retrofit"><a href="#Retrofit" class="headerlink" title="Retrofit"></a>Retrofit</h3><h2 id="图片相关"><a href="#图片相关" class="headerlink" title="图片相关"></a>图片相关</h2><h3 id="Glide、Picasso、Fresco、ImageLaoder-对比"><a href="#Glide、Picasso、Fresco、ImageLaoder-对比" class="headerlink" title="Glide、Picasso、Fresco、ImageLaoder 对比"></a>Glide、Picasso、Fresco、ImageLaoder 对比</h3><h4 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h4><p>Glide 加载图片的方式和 Picasso 非常相似；虽然两者看起来一样，但 Glide 更易用，因为 Glide 的 <code>.with(Context/Fragment/Activity)</code>方法好处是：图片加载会和 Activity/Fragment 的生命周期保持一致。比如在 Paused 状态时暂停加载， 在Resumed 状态时自动重新加载。</p>
<h4 id="图像和内存"><a href="#图像和内存" class="headerlink" title="图像和内存"></a>图像和内存</h4><p>同样将 1920×1080 像素的图片加载到 768×432 的 ImageView 中，Glide 加载的图片质量要差于Picasso，这是因为 <strong>Glide 默认的 Bitmap 格式是 RGB-565 ，比ARGB-8888格式的内存开销要小一半</strong>。</p>
<blockquote>
<p>想要提高 Glide 的图片效果，可以创建一个新的 GlideModule 将 Bitmap 格式转换到 ARGB-8888。同时在 AndroidManifest.xml 中将 GlideModule 定义为 meta-data。</p>
</blockquote>
<p>修改了 Bitmap 格式后，Glide 将花费两倍于上次的内存，但是仍远远小于 Picasso 的内存开销，<strong>原因在于 Picasso 是加载了全尺寸的图片到内存，然后让 GPU 来实时重绘大小</strong>。而 Glide 加载的大小和 ImageView 的大小是一致的，当然，Picasso 也是可以指定加载图片大小的，但是问题在于你需要主动计算 ImageView 的大小，或者说你的 ImageView 大小是具体的值（而不是 wrap_content ）<br><strong>在加载图片上 Glide 完胜 Picasso，因为 Glide 可以自动计算出任意情况下的 ImageView 大小</strong>。</p>
<h4 id="Image质量的细节"><a href="#Image质量的细节" class="headerlink" title="Image质量的细节"></a>Image质量的细节</h4><p><strong>将 ImageView 还原到真实大小时，Glide 加载的图片没有 Picasso 那么平滑</strong>。</p>
<h4 id="磁盘缓存"><a href="#磁盘缓存" class="headerlink" title="磁盘缓存"></a>磁盘缓存</h4><p>Picasso 和 Glide 在磁盘缓存策略上有很大的不同。<strong>Picasso 缓存的是全尺寸的，而 Glide 缓存的是跟 ImageView 尺寸相同的</strong>。我们可以将 ImageView 调整成不同大小，但不管大小如何 Picasso 只缓存一个全尺寸的。Glide 则不同，它会为每种大小的 ImageView 缓存 一次。尽管一张图片已经缓存了一次，但是假如你要在另外一个地方再次以不同尺寸显示，需要重新下载，调整成新尺寸的大小，然后将这个尺寸的也缓存起来。</p>
<blockquote>
<p>假如在第一个页面有一个 200×200 的 ImageView，在第二个页面有一个 100×100 的 ImageView，这两个 ImageView 本来是要显示同一张图片，却需要下载两次。不过，你可以通过代码改变这种行为，让Glide既缓存全尺寸又缓存其他尺寸，这样就使得下次在任何 ImageView 中加载图片的时候，全尺寸的图片将从缓存中取出，重新调整大小，然后缓存。</p>
</blockquote>
<p><strong>Glide 的这种方式优点是加载显示非常快。而 Picasso 的方式则因为需要在显示之前重新调整大小而导致一些延迟。不过 Glide 比 Picasso 需要更大的空间来缓存</strong>。</p>
<h4 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h4><p>Glide 可以做到和 Picasso 几乎一样多的事，代码也几乎一样。但 <strong>Glide 可以加载 GIF 动态图，而 Picasso 不能</strong>，但是 Glide 动画会消费太多的内存，因此谨慎使用。除了 gif 动画之外，Glide 还可以将任何的本地视频解码成一张静态图片。还有一个特性是你可以配置图片显示的动画，而 Picasso 只有一种动画：fading in，最后一个是可以使用<code>thumbnail()</code>产生一个你所加载图片的 thumbnail。其实还有一些特性，不过不是非常重要，比如将图像转换成字节数组等。</p>
<h4 id="Fresco"><a href="#Fresco" class="headerlink" title="Fresco"></a>Fresco</h4><p><strong>Fresco 的最大亮点在于它的内存管理</strong>。解压后的图片，即 Android 中的 Bitmap ，占用大量的内存，在 Android 5.0以下系统中，这会显著地引发界面卡顿。而使用 Fresco 将很好地解决这个问题，Fresco 会将图片放到一个特别的内存区域，当图片不再显示的时候，占用的内存会自动被释放，这会使得 APP 更流畅，减少因图片内存占用而引发的 OOM。当 APP 包含的图片较多时，这个效果尤其明显。</p>
<p><strong>Fresco 支持图像的渐进式呈现</strong>，渐进式的图片格式先呈现大致的图片轮廓，然后随着图片下载的继续，逐渐呈现清晰的图片，这在低网速情况下浏览图片十分有帮助，可以带来更好地用户体验。另外，Fresco 支持加载 gif 图，支持 WebP 格式。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p><strong>ImageLoader 优点：</strong></p>
<ol>
<li>支持下载进度监听<br>通过 PauseOnScrollListener 接口可以在 View 滚动中暂停图片加载。</li>
<li>可以在 View 滚动中暂停图片加载<br>这几个图片缓存都可以配置缓存算法，不过 ImageLoader 默认实现了较多缓存算法，如 Size 最大先删除、使用最少先删除、最近最少使用、先进先删除、时间最长先删除等。</li>
<li>默认实现多种内存缓存算法</li>
<li>支持本地缓存文件名规则定义</li>
</ol>
<p><strong>Picasso 优点</strong></p>
<ol>
<li>自带统计监控功能<br>支持图片缓存使用的监控，包括缓存命中率、已使用内存大小、节省的流量等。</li>
<li><p>支持优先级处理<br>每次任务调度前会选择优先级高的任务，比如 App 页面中 Banner 的优先级高于 Icon 时就很适用。</p>
</li>
<li><p>支持延迟到图片尺寸计算完成加载</p>
</li>
<li><p>支持飞行模式、并发线程数根据网络类型而变<br>手机切换到飞行模式或网络类型变换时会自动调整线程池最大并发数，比如 wifi 最大并发为 4， 4g 为 3，3g 为 2。<br>这里 Picasso 根据网络类型来决定最大并发数，而不是 CPU 核数。</p>
</li>
<li><p>“无”本地缓存<br>无”本地缓存，不是说没有本地缓存，而是 Picasso 自己没有实现，交给了 Square 的另外一个网络库 okhttp 去实现，这样的好处是可以通过请求 Response Header 中的 Cache-Control 及 Expired 控制图片的过期时间。</p>
</li>
</ol>
<p><strong>Glide 优点：</strong></p>
<ol>
<li><p>图片缓存-&gt;媒体缓存<br>Glide 不仅是一个图片缓存，它支持 Gif、WebP、缩略图。甚至是 Video，所以更该当做一个媒体缓存。</p>
</li>
<li><p>支持优先级处理</p>
</li>
<li><p>与 Activity/Fragment 生命周期一致，支持 trimMemory<br>Glide 对每个 context 都保持一个 RequestManager，通过 FragmentTransaction 保持与 Activity/Fragment 生命周期一致，并且有对应的 trimMemory 接口实现可供调用。</p>
</li>
<li><p>支持 okhttp、Volley<br>Glide 默认通过 UrlConnection 获取数据，可以配合 okhttp 或是 Volley 使用。实际 ImageLoader、Picasso 也都支持 okhttp、Volley。</p>
</li>
<li><p>内存友好</p>
<ul>
<li><p>Glide 的内存缓存有个 active 的设计<br>从内存缓存中取数据时，不像一般的实现用 get，而是用 remove，再将这个缓存数据放到一个 value 为软引用的 activeResources map 中，并计数引用数，在图片加载完成后进行判断，如果引用计数为空则回收掉。</p>
</li>
<li><p>内存缓存更小图片<br>Glide 以 url、view_width、view_height、屏幕的分辨率等做为联合 key，将处理后的图片缓存在内存缓存中，而不是原始图片以节省大小</p>
</li>
<li><p>与 Activity/Fragment 生命周期一致，支持 trimMemory</p>
</li>
<li><p>图片默认使用默认 RGB_565 而不是 ARGB_888<br>虽然清晰度差些，但图片更小，也可配置到 ARGB_888。</p>
</li>
<li><p>其他：Glide 可以通过 signature 或不使用本地缓存支持 url 过期</p>
</li>
</ul>
</li>
</ol>
<h4 id="使用场景建议"><a href="#使用场景建议" class="headerlink" title="使用场景建议"></a>使用场景建议</h4><p>Picasso 所能实现的功能 Glide 都能做到，只是所需设置不同。两者的区别是 Picasso 比 Glide 体积小很多且图像质量比 Glide 高，但Glide 的速度比 Picasso 更快。</p>
<p>Glide 的长处是处理大型的图片流，如 gif、video，如果要制作视频类应用，Glide 当为首选。</p>
<p>Fresco 可以说是综合了之前图片加载库的优点，其在5.0以下的内存优化非常好，但它的不足是体积太大，按体积进行比较：Fresco&gt;Glide&gt;Picasso，所以 Fresco 在图片较多的应用中更能凸显其价值，如果应用没有太多图片需求，不推荐使用 Fresco。</p>
<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h3 id="Dagger2"><a href="#Dagger2" class="headerlink" title="Dagger2"></a>Dagger2</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/Development Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/Development Notes/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Development-Notes"><a href="#Development-Notes" class="headerlink" title="Development Notes"></a>Development Notes</h1><p>日常开发笔记</p>
<h3 id="Space-使用场景"><a href="#Space-使用场景" class="headerlink" title="Space 使用场景"></a>Space 使用场景</h3><p>Space 是一个用于创建视图之间空隙的轻量级View，再onDraw()中不执行任何绘制，所以<code>android:background</code> 属性对它不起作用。</p>
<p>通常在创建视图空隙的时候，<strong>在不考虑背景色的情况下，Space效率更高</strong>。</p>
<blockquote>
<p>注意：由于控件是 API 14 引入，如要向下兼容，需要使用<strong>v4.widget.Space</strong></p>
</blockquote>
<h3 id="view-performClick"><a href="#view-performClick" class="headerlink" title="view.performClick()"></a>view.performClick()</h3><p>自动调用View点击事件。用于模拟用户点击行为。</p>
<blockquote>
<p>类似的还有<code>performLongClick()</code>。</p>
</blockquote>
<h3 id="系统内置方法-工具"><a href="#系统内置方法-工具" class="headerlink" title="系统内置方法/工具"></a>系统内置方法/工具</h3><h4 id="DateUtils"><a href="#DateUtils" class="headerlink" title="DateUtils"></a>DateUtils</h4><p><code>DateUtils.formayDateTime()</code>代替JDK中的<code>new SimpleDateFormat(&quot;yyy-MM-dd HH:mm&quot;).format()</code>。<br>几个常用的format格式：</p>
<ul>
<li>FORMAT_SHOW_DATE：3月3日</li>
<li>FORMAT_SHOW_TIME：10:37</li>
<li>FORMAT_SHOW_WEEKDAY：星期五</li>
<li>FORMAT_SHOW_YEAR：2017年3月3日</li>
<li>FORMAT_NUMERIC_DATE：3/3</li>
<li>FORMAT_NO_MONTH_DAY：三月</li>
</ul>
<h4 id="TextUtils"><a href="#TextUtils" class="headerlink" title="TextUtils"></a>TextUtils</h4><p><code>TextUtils.isEmpty(CharSequence str)</code></p>
<h4 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h4><p><code>Log.getStackTraceString(Throwable tr)</code>可以从Throwable对象中获取错误信息，并以字符串形式返回。当你需要错误信息的数据持久化时，这个方法很方便。<br>使用场景：保存至本地存储卡或上传服务器。</p>
<h3 id="5个常见的内存泄露的问题"><a href="#5个常见的内存泄露的问题" class="headerlink" title="5个常见的内存泄露的问题"></a>5个常见的内存泄露的问题</h3><p>内存泄露时造成OOM的主要原因之一。由于Android系统为每个应用程序分配的内存有限，当一个应用中产生内存泄露较多时，就南偏灰导致应用所需要的内存超过分配的限额，这就导致应用Crash。</p>
<h4 id="单例造成的内存泄露"><a href="#单例造成的内存泄露" class="headerlink" title="单例造成的内存泄露"></a>单例造成的内存泄露</h4><p>由于单例的静态特性使得单例的生命周期和应用的生命周期一样长，也就说明如果一个对象已经不需要使用的时候，而单例对象还持有该对象的引用，那么这个对象将不能被正常回收，这就导致了内存泄露。<br>举例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//worng</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> AppManager instance;</span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">AppManager</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.context = context;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> AppManager <span class="title">getInstance</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance != <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> AppManager(context);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//right</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppManager</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> AppManager instance;</span><br><span class="line">    <span class="keyword">private</span> Context context;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">AppManager</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.context = context.getApplicationContext();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> AppManager <span class="title">getInstance</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance != <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> AppManager(context);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="非静态内部类创建静态实例造成的内存泄露"><a href="#非静态内部类创建静态实例造成的内存泄露" class="headerlink" title="非静态内部类创建静态实例造成的内存泄露"></a>非静态内部类创建静态实例造成的内存泄露</h4><h4 id="Handler造成的内存泄露"><a href="#Handler造成的内存泄露" class="headerlink" title="Handler造成的内存泄露"></a>Handler造成的内存泄露</h4><p>Handler正确的使用方式：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> MyHandler mHandler = <span class="keyword">new</span> MyHandler(<span class="keyword">this</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyHandler</span> <span class="keyword">extends</span> <span class="title">Handler</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> WeakReference&lt;Context&gt; reference;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyHandler</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">            reference = <span class="keyword">new</span> WeakReference&lt;&gt;(context);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>&#123;</span><br><span class="line">            Activity activity = (Activity) reference.get();</span><br><span class="line">            <span class="keyword">if</span>(activity != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="comment">//do something</span></span><br><span class="line">                <span class="comment">//...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">super</span>.onDestroy();</span><br><span class="line">      mHandler.removeCallbackAndMessage(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="非静态内部类"><a href="#非静态内部类" class="headerlink" title="非静态内部类"></a>非静态内部类</h4><h4 id="线程造成的内存泄露"><a href="#线程造成的内存泄露" class="headerlink" title="线程造成的内存泄露"></a>线程造成的内存泄露</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//test1</span></span><br><span class="line"><span class="keyword">new</span> AsyncTask&lt;Void, Void, Void&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> Void <span class="title">doInBackground</span><span class="params">(Void... params)</span> </span>&#123;</span><br><span class="line">                SystemClock.sleep(<span class="number">10000</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.execute();</span><br><span class="line">        </span><br><span class="line"><span class="comment">//test2</span></span><br><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                SystemClock.sleep(<span class="number">10000</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br></pre></td></tr></table></figure>
<p>上面的一部任务和Runnable都是一个匿名内部类，因此它们对当前Activity都有一个隐士引用。<br>如果Activity在销毁之前，任务还没完成，那么导致Activity的内存资源无法回收，造成内存泄露。<br>正确的做法，应该使用静态内部类的方式实现，如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAsyncTask</span> <span class="keyword">extends</span> <span class="title">AsyncTask</span>&lt;<span class="title">Void</span>, <span class="title">Void</span>, <span class="title">Void</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> WeakReference&lt;Context&gt; weakReference;</span><br><span class="line">  </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyAsyncTask</span><span class="params">(Context context)</span> </span>&#123;</span><br><span class="line">            weakReference = <span class="keyword">new</span> WeakReference&lt;&gt;(context);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> Void <span class="title">doInBackground</span><span class="params">(Void... params)</span> </span>&#123;</span><br><span class="line">            SystemClock.sleep(<span class="number">10000</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onPostExecute</span><span class="params">(Void aVoid)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>.onPostExecute(aVoid);</span><br><span class="line">            MainActivity activity = (MainActivity) weakReference.get();</span><br><span class="line">            <span class="keyword">if</span> (activity != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">//...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            SystemClock.sleep(<span class="number">10000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//-------</span></span><br><span class="line">    <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyRunnable()).start();</span><br><span class="line">    <span class="keyword">new</span> MyAsyncTask(<span class="keyword">this</span>).execute();</span><br></pre></td></tr></table></figure></p>
<p>这样就避免了Activity的内存资源泄露，当然在Activity销毁时也应该取消相应的任务<code>AsyncTask.cancel()</code>，避免任务在后台执行浪费的资源。</p>
<h4 id="资源未关闭造成的内存泄露"><a href="#资源未关闭造成的内存泄露" class="headerlink" title="资源未关闭造成的内存泄露"></a>资源未关闭造成的内存泄露</h4><p>对于BroadcastReceiver、File、Stream、 Cursor、Bitmap 等资源的使用，应该在Activity销毁时及时关闭或者注销，否则这些资源将不会被回收，造成内存泄露。</p>
<h3 id="资源相关"><a href="#资源相关" class="headerlink" title="资源相关"></a>资源相关</h3><h4 id="string-xml"><a href="#string-xml" class="headerlink" title="string xml"></a>string xml</h4><p><b></b> 加粗字体<br><i></i> 斜体字体<br><u></u> 给字体加下划线<br>\n 换行<br>\u0020 表示空格<br>\u2026 表示省略号</p>
<h4 id="attr-format属性类型"><a href="#attr-format属性类型" class="headerlink" title="attr format属性类型"></a><code>attr format</code>属性类型</h4><ul>
<li>reference：参考某一资源ID</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">  <span class="attr">Android:layout_width</span> = <span class="string">"42dip"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:layout_height</span> = <span class="string">"42dip"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:background</span> = <span class="string">"@drawable/图片ID"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>color</code>：颜色值</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:layout_width</span> = <span class="string">"42dip"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:layout_height</span> = <span class="string">"42dip"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:textColor</span> = <span class="string">"#00FF00"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>boolean：布尔值</li>
<li>dimension：尺寸值</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:layout_width</span> = <span class="string">"42dip"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:layout_height</span> = <span class="string">"42dip"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>float</code>：浮点值</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">alpha</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:fromAlpha</span> = <span class="string">"1.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:toAlpha</span> = <span class="string">"0.7"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>integer</code>：整形值</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">animated-rotate</span> <span class="attr">xmlns:android</span> = <span class="string">"http://schemas.android.com/apk/res/android"</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">android:drawable</span> = <span class="string">"@drawable/图片ID"</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">android:pivotX</span> = <span class="string">"50%"</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">android:pivotY</span> = <span class="string">"50%"</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">android:framesCount</span> = <span class="string">"12"</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">android:frameDuration</span> = <span class="string">"100"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>string</code>：字符串</li>
<li><code>fraction</code>：百分数</li>
<li><code>enum</code>：枚举值</li>
<li><code>flag</code>：位或运算<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:name</span> = <span class="string">".StyleAndThemeActivity"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:label</span> = <span class="string">"@string/app_name"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">android:windowSoftInputMode</span> = <span class="string">"stateUnspecified | stateUnchanged　|　stateHidden"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span> = <span class="string">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span> = <span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>####SpannableString与SpannableStringBuilder<br>类似于String和StringBuilder<br>SpannableString 长度不可变<br>SpannableStringBuilder 长度可变</p>
<h4 id="EditText-默认取消焦点"><a href="#EditText-默认取消焦点" class="headerlink" title="EditText 默认取消焦点"></a>EditText 默认取消焦点</h4><h4 id="EEE"><a href="#EEE" class="headerlink" title="EEE"></a>EEE</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">android:background="@color/colorPrimary"  </span><br><span class="line">android:background="@com.myapp:color/colorPrimary"  </span><br><span class="line">android:background="?colorPrimary"  </span><br><span class="line">android:background="?attr/colorPrimary"  </span><br><span class="line">android:background="?com.myapp:attr/colorPrimary"  </span><br><span class="line">android:background="?com.myapp:colorPrimary"  </span><br><span class="line">android:background="?android:colorPrimary"  </span><br><span class="line">android:background="?android:attr/colorPrimary"</span><br></pre></td></tr></table></figure>
<h4 id="和-之间的区别"><a href="#和-之间的区别" class="headerlink" title="@和?之间的区别"></a><code>@</code>和<code>?</code>之间的区别</h4><p>@ 标记是引用一个实际的值（color, string, dimension…）。<br>? 标记是引用一个<code>style attribute</code>，其值取决于当前使用的主题。</p>
<h4 id="InputFilter"><a href="#InputFilter" class="headerlink" title="InputFilter"></a>InputFilter</h4><p>edittext maxLength 在使用InputFilter 之后会失效</p>
<h4 id="什么是线程安全？"><a href="#什么是线程安全？" class="headerlink" title="什么是线程安全？"></a>什么是线程安全？</h4><p>线程安全是指多线程访问统一代码，不会产生不确定的结果。</p>
<h4 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h4><h4 id="发送短信的几种方式"><a href="#发送短信的几种方式" class="headerlink" title="发送短信的几种方式"></a>发送短信的几种方式</h4><h4 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h4><h4 id="Java-8-命名规则"><a href="#Java-8-命名规则" class="headerlink" title="Java 8 命名规则"></a>Java 8 命名规则</h4><h4 id="View-post"><a href="#View-post" class="headerlink" title="View post"></a>View post</h4><p>view获取到关联线程（即UI线程，因为只有UI线程才能创建view）的handler，然后调用该handler的post方法，即把这个任务封装成一个消息post到主线程的消息队列中，然后等待执行。</p>
<h4 id="代码混淆"><a href="#代码混淆" class="headerlink" title="代码混淆"></a>代码混淆</h4><ol>
<li><p>开启代码混淆</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;</span><br><span class="line">  release &#123;</span><br><span class="line">    minifyEnabled false</span><br><span class="line">    proguardFiles getDefaultProguardFile(&apos;proguard-android.txt&apos;), &apos;proguard-reles.pro&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加混淆规则</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">-dontskipnonpubliclibraryclasses # 不忽略非公共的库类</span><br><span class="line">-optimizationpasses 5 # 指定代码的压缩级别</span><br><span class="line">-dontusemixedcaseclassnames # 是否使用大小写混合</span><br><span class="line">-dontpreverify # 混淆时是否做预校验</span><br><span class="line">-verbose # 混淆时是否记录日志</span><br><span class="line">-keepattributes *Annotation* # 保持注解</span><br><span class="line">-ignorewarning # 忽略警告</span><br><span class="line">-dontoptimize # 优化不优化输入的类文件</span><br><span class="line"></span><br><span class="line">-optimizations !code/simplification/arithmetic,!field/*,!class/merging/* # 混淆时所采用的算法</span><br><span class="line"></span><br><span class="line">#保持哪些类不被混淆</span><br><span class="line">-keep public class * extends android.app.Activity</span><br><span class="line">-keep public class * extends android.app.Application</span><br><span class="line">-keep public class * extends android.app.Service</span><br><span class="line">-keep public class * extends android.content.BroadcastReceiver</span><br><span class="line">-keep public class * extends android.content.ContentProvider</span><br><span class="line">-keep public class * extends android.app.backup.BackupAgentHelper</span><br><span class="line">-keep public class * extends android.preference.Preference</span><br><span class="line">-keep public class com.android.vending.licensing.ILicensingService</span><br><span class="line"></span><br><span class="line">#生成日志数据，gradle build时在本项目根目录输出</span><br><span class="line">-dump class_files.txt #apk包内所有class的内部结构</span><br><span class="line">-printseeds seeds.txt #未混淆的类和成员</span><br><span class="line">-printusage unused.txt #打印未被使用的代码</span><br><span class="line">-printmapping mapping.txt #混淆前后的映射</span><br><span class="line"></span><br><span class="line">-keep public class * extends android.support.** #如果有引用v4或者v7包，需添加</span><br><span class="line">-libraryjars libs/xxx.jar #混淆第三方jar包，其中xxx为jar包名</span><br><span class="line">-keep class com.xxx.**&#123;*;&#125; #不混淆某个包内的所有文件</span><br><span class="line">-dontwarn com.xxx** #忽略某个包的警告</span><br><span class="line">-keepattributes Signature #不混淆泛型</span><br><span class="line">-keepnames class * implements java.io.Serializable #不混淆Serializable</span><br><span class="line"></span><br><span class="line">-keepclassmembers class **.R$* &#123; #不混淆资源类</span><br><span class="line">public static &lt;fields&gt;;</span><br><span class="line">&#125;</span><br><span class="line">-keepclasseswithmembernames class * &#123; # 保持 native 方法不被混淆</span><br><span class="line">native &lt;methods&gt;;</span><br><span class="line">&#125;</span><br><span class="line">-keepclasseswithmembers class * &#123; # 保持自定义控件类不被混淆</span><br><span class="line">public &lt;init&gt;(android.content.Context, android.util.AttributeSet);</span><br><span class="line">&#125;</span><br><span class="line">-keepclasseswithmembers class * &#123; # 保持自定义控件类不被混淆</span><br><span class="line">public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);</span><br><span class="line">&#125;</span><br><span class="line">-keepclassmembers class * extends android.app.Activity &#123; # 保持自定义控件类不被混淆</span><br><span class="line">public void *(android.view.View);</span><br><span class="line">&#125;</span><br><span class="line">-keepclassmembers enum * &#123; # 保持枚举 enum 类不被混淆</span><br><span class="line">public static **[] values();</span><br><span class="line">public static ** valueOf(java.lang.String);</span><br><span class="line">&#125;</span><br><span class="line">-keep class * implements android.os.Parcelable &#123; # 保持 Parcelable 不被混淆</span><br><span class="line">public static final android.os.Parcelable$Creator *;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="PopupWindow-和-Dialog的区别"><a href="#PopupWindow-和-Dialog的区别" class="headerlink" title="PopupWindow 和 Dialog的区别"></a>PopupWindow 和 Dialog的区别</h3><p><strong>不同点</strong></p>
<ol>
<li>Popupwindow在显示之前一定要设置宽高，Dialog无此限制。</li>
<li>Popupwindow默认不会响应物理键盘的back，除非显示设置了popup.setFocusable(true)；而在点击back的时候，Dialog会消失。</li>
<li>Popupwindow不会给页面其他的部分添加蒙层，而Dialog会。</li>
<li>Popupwindow没有标题，Dialog默认有标题，可以通过<code>dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);</code>取消标题</li>
</ol>
<p>AlertDialog是<strong>非阻塞式</strong>对话框，AlertDialog弹出时，后台还可以做其他事情；而PopupWindow是<strong>阻塞式</strong>对话框，PopupWindow弹出直至PopupWindow推出前，程序会一直等待，等待dismiss方式执行后，程序才会想下执行。<br>这两种区别的表现是：</p>
<p><strong>共同点</strong></p>
<ol>
<li>二者显示的时候都要设置Gravity，如不设置，Dialog默认是Gravity.CENTER</li>
<li>二者都有默认的背景，都可以通过<code>setBackgroundDrawable(new ColorDrawable(android.R.color.transparent));</code>去掉。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/design_pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/design_pattern/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><h2 id="路由设计"><a href="#路由设计" class="headerlink" title="路由设计"></a>路由设计</h2><ol>
<li>什么是路由？<br><strong>根据路由表将页面请求分发到指定页面</strong></li>
<li>使用场景:<ol>
<li>App接收到一个通知，点击通知打开App的某个页面</li>
<li>浏览器App中点击某个链接打开App的某个页面</li>
<li>运营活动需求，动态把原生的页面替换成H5页面</li>
<li>打开页面需要某些条件，先验证完条件，再去打开那个页面</li>
<li>不合法的打开App的页面被屏蔽掉</li>
<li>H5打开链接在所有平台都一样，方便统一跳转</li>
<li>App存在就打开页面，不存在就去下载页面下载,只有Google的App Link支持</li>
</ol>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/android-best-practices/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/android-best-practices/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="android-best-practices"><a href="#android-best-practices" class="headerlink" title="android-best-practices"></a>android-best-practices</h1><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><ul>
<li>把密码和敏感数据放在<code>gradle.properties</code>中，并在版本控制中忽略掉</li>
</ul>
<h2 id="资源文件"><a href="#资源文件" class="headerlink" title="资源文件"></a>资源文件</h2><h3 id="（1）布局文件"><a href="#（1）布局文件" class="headerlink" title="（1）布局文件"></a>（1）布局文件</h3><table>
<thead>
<tr>
<th><strong>Type</strong></th>
<th><strong>Format</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Activity</td>
<td>activity_</td>
</tr>
<tr>
<td>Fragment</td>
<td>fragment_</td>
</tr>
<tr>
<td>Dialog</td>
<td>dialog_</td>
</tr>
<tr>
<td>PopupWindow</td>
<td>popup_</td>
</tr>
<tr>
<td>Menu</td>
<td>menu_</td>
</tr>
<tr>
<td>Adapter</td>
<td>layout<em>item</em></td>
</tr>
</tbody>
</table>
<h3 id="（2）图片"><a href="#（2）图片" class="headerlink" title="（2）图片"></a>（2）图片</h3><table>
<thead>
<tr>
<th><strong>Suffix</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>bg_xxx</td>
<td>背景图片</td>
</tr>
<tr>
<td>btn_xxx</td>
<td>Button</td>
</tr>
<tr>
<td>ic_xxx</td>
<td>Icon</td>
</tr>
<tr>
<td>bg<em>描述</em>状态</td>
<td>不同状态的背景</td>
</tr>
<tr>
<td>btn<em>描述</em>状态</td>
<td>不同状态的Button</td>
</tr>
<tr>
<td>chx<em>描述</em>状态</td>
<td>选择框</td>
</tr>
</tbody>
</table>
<h3 id="（3）values"><a href="#（3）values" class="headerlink" title="（3）values"></a>（3）values</h3><table>
<thead>
<tr>
<th><strong>类别</strong></th>
<th><strong>命名</strong></th>
<th><strong>示例</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>strings</td>
<td>模块名_逻辑名称</td>
<td>main_menu_about</td>
</tr>
<tr>
<td>colors</td>
<td>模块名_颜色名称</td>
<td>main_info_bg_gray</td>
</tr>
<tr>
<td>style</td>
<td>模块名_逻辑名称（驼峰法）</td>
<td>main_tabBottom</td>
</tr>
<tr>
<td>dimen</td>
<td>模块名_逻辑名称</td>
<td>main_menu_padding</td>
</tr>
</tbody>
</table>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p>表1：UI控件缩写表<br>| <strong>控件</strong>         | <strong>缩写</strong> | <strong>示例</strong>    |<br>| ————– | —— | ——— |<br>| LinearLayout   | ll     | menuLL    |<br>| RelativeLayout | rl     |           |<br>| FrameLayout    | fl     |           |<br>| Button         | btn    | searchBtn |<br>| ImageButton    | ibtn   | playIBtn  |<br>| TextView       | tv     | nameTV    |<br>| ListView       | lv     | carLV     |<br>| GridView       | gv     | photoGV   |<br>| ProgressBar    | pb     |           |<br>| RadioButton    | rbtn   |           |<br>| RadioGroup     | rg     |           |<br>| ScrollView     | sv     |           |<br>| RecyclerView   | rv     |           |<br>| WebView        | wv     |           |<br>| Spinner        | spn    |           |<br>|                |        |           |<br>|                |        |           |<br>|                |        |           |<br>|                |        |           |</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/android studio opt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/android studio opt/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Android-Studio-快捷操作"><a href="#Android-Studio-快捷操作" class="headerlink" title="Android Studio 快捷操作"></a>Android Studio 快捷操作</h1><table>
<thead>
<tr>
<th>快捷方式</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl + Shift + F8</td>
<td>管理debug断点</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/19/android/android error collect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mcgrady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mcgrady's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/android/android error collect/" itemprop="url">Unbenannt</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T15:43:56+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Android-error-collect"><a href="#Android-error-collect" class="headerlink" title="Android error collect"></a>Android error collect</h1><h3 id="9出错解决方案"><a href="#9出错解决方案" class="headerlink" title=".9出错解决方案"></a>.9出错解决方案</h3><p><strong>AS中要求.9图片四条边都绘制</strong><br>可通过以下方法取消AS对.9图片的安全检查</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/build.gradle</span></span><br><span class="line"></span><br><span class="line">buildToolsVersion <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消掉系统对.9图片的检查</span></span><br><span class="line">aaptOptions.cruncherEnabled = <span class="keyword">false</span></span><br><span class="line">aaptOptions.useNewCruncher = <span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<h3 id="使用泛型"><a href="#使用泛型" class="headerlink" title="使用泛型"></a>使用泛型</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DON'T</span></span><br><span class="line"><span class="function">List <span class="title">sort</span><span class="params">(List input)</span> </span>&#123;</span><br><span class="line">  [...]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// DO</span></span><br><span class="line">&lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">sort</span><span class="params">(List&lt;T&gt; input)</span> </span>&#123;</span><br><span class="line">  [...]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">mcgrady</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mcgrady</span>

  
</div>


  <div class="powered-by">Erstellt mit  <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
